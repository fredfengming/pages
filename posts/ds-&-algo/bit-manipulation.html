<!DOCTYPE html><html lang="en" class="dark"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>位操作<!-- --> - <!-- -->Ming&#x27;s Wiki</title><link rel="shortcut icon" href="/favicon.jpg" type="image/x-icon"/><link rel="icon" href="/favicon.jpg" type="image/x-icon"/><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/css/1309ecc7089e6025.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/1309ecc7089e6025.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-416aaeebcbd8b090.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-4cb13ccabc5e927a.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-d3e05035616bf11e.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-7174467885d8337c.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/247-ed4563e743666ab0.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/376-d743dece79f3bdbc.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/posts/%5B...slug%5D-a5651f57036efa55.js" defer="" crossorigin=""></script><script src="/_next/static/BJXPI9N12ZDX2jW9m7t5g/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/BJXPI9N12ZDX2jW9m7t5g/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="min-h-screen flex flex-col h-screen justify-between"><div class="bg-cover bg-center" style="background-image:url(&#x27;/assets/header.jpg&#x27;)"><div class="container mx-auto px-4"><div class="flex flex-nowrapflex-row-reverse"><div class="flex-auto m-auto"><a class="bg-black bg-opacity-50 text-2xl md:text-4xl font-bold p-1 md:p-4" rel="home" href="/">Ming&#x27;s Wiki</a></div><div class="flex-none w-16 md:w-32"><a class="bg-black align-middle bg-opacity-50 text-5xl font-bold" rel="home" href="/"><img alt="Avatar" loading="lazy" width="128" height="128" decoding="async" data-nimg="1" class="rotate-12 rounded-xl md:w-32:rounded-4xl " style="color:transparent" src="/assets/avatar.jpg"/></a></div></div></div></div><div class="w-full h-10 mb-5 bg-gray-900"><div class="container mx-auto px-4"><div class="flex justify-between items-center h-full"><ul class="flex gap-x-6 text-white"><li><a class="block py-2 pr-1 md:pr-2" href="/tools/docker">docker</a></li><li><a class="block py-2 pr-1 md:pr-2" href="/tools/kubectl">kubectl</a></li></ul></div></div></div><main class="mb-auto"><div class="container mx-auto px-4"><div class="grid grid-cols-5 gap-3"><div class="col-span-5 md:col-span-4"><article class="prose dark:prose-invert lg:prose-xl"><h2>概念</h2>
<ul>
<li>反码：原值取反后的值，成为原值的反码。</li>
<li>补码：原值的反码再＋ 1</li>
<li>负数用补码表示<!-- -->
<ul>
<li>-1 的二进制全是 1111111</li>
<li>5 = 101（前缀全是 0)</li>
<li>-5 = 011（前缀全是 1）</li>
</ul>
</li>
</ul>
<h2>位的功能操作</h2>
<table><thead><tr><th style="text-align:center">功能</th><th style="text-align:left">操作</th></tr></thead><tbody><tr><td style="text-align:center">除 2</td><td style="text-align:left">&gt;&gt;</td></tr><tr><td style="text-align:center">乘 2</td><td style="text-align:left">&lt;&lt;</td></tr><tr><td style="text-align:center">正负符号变换</td><td style="text-align:left">取反再+1</td></tr><tr><td style="text-align:center">从 a 中消去 b 中的 1</td><td style="text-align:left">a &amp;= ~b（和 b 的反，做&amp;运算）</td></tr><tr><td style="text-align:center">取最右的 1</td><td style="text-align:left">n &amp; -n</td></tr><tr><td style="text-align:center">删最右的 1</td><td style="text-align:left">x &amp; x-1</td></tr><tr><td style="text-align:center">n |= n &gt;&gt; 1; n |= n &gt;&gt; 2; n |= n &gt;&gt; 4;</td><td style="text-align:left">第一个 1 右侧的 bit 置为 1</td></tr></tbody></table>
<h2>Java 位运算符</h2>
<table><thead><tr><th style="text-align:center">符号</th><th style="text-align:center">描述</th><th style="text-align:left">运算规则</th></tr></thead><tbody><tr><td style="text-align:center">&amp;</td><td style="text-align:center">与</td><td style="text-align:left">两个位都为 1 时，结果才为 1</td></tr><tr><td style="text-align:center">|</td><td style="text-align:center">或</td><td style="text-align:left">两个位都为 0 时，结果才为 0</td></tr><tr><td style="text-align:center">^</td><td style="text-align:center">异或</td><td style="text-align:left">两个位相同为 0，相异为 1</td></tr><tr><td style="text-align:center">~</td><td style="text-align:center">取反</td><td style="text-align:left">0 变 1，1 变 0</td></tr><tr><td style="text-align:center">&lt;&lt;</td><td style="text-align:center">左移</td><td style="text-align:left">高位丢弃，低位补 0</td></tr><tr><td style="text-align:center">&gt;&gt;</td><td style="text-align:center">右移</td><td style="text-align:left">无符号数高位补 0；有符号数编译器有的补符号位，有的补 0</td></tr><tr><td style="text-align:center">&gt;&gt;&gt;</td><td style="text-align:center">无符号右移</td><td style="text-align:left">Java 运算，高位补 0</td></tr></tbody></table>
<h2>例题</h2>
<blockquote>
<p>一堆数字中，有 2 个数字各出现一次，其它都出现两次。<a href="https://leetcode.com/problems/single-number-iii/submissions/">Leetcode</a></p>
</blockquote>
<p>解题重点：</p>
<ul>
<li>one ^ two = xor</li>
<li>xor &amp; -xor =&gt; one 和 two 的第一个差异位</li>
<li>用差异位可以辨别一个数字可能是 one 还是 two</li>
</ul></article></div><div class="hidden md:col-span-1 md:block"><table class="table-fixed w-full text-left"><thead class="dark:text-gray-400 uppercase"><tr><th scope="col" class="px-0 py-3">Utilities</th></tr></thead><tbody><tr><th scope="row" class="px-2 py-2">· <a aria-label="Docker Command Builder" href="/tools/docker">Docker Command Builder</a></th></tr><tr><th scope="row" class="px-2 py-2">· <a aria-label="Kubectl Command Builder" href="/tools/kubectl">Kubectl Command Builder</a></th></tr></tbody></table><table class="table-fixed w-full text-left"><thead class="dark:text-gray-400 uppercase"><tr><th scope="col" class="px-0 py-3">Recent Posts</th></tr></thead><tbody><tr><th scope="row" class="px-2 py-2">· <a aria-label="位操作" href="/posts/ds-&amp;-algo/bit-manipulation">位操作</a></th></tr><tr><th scope="row" class="px-2 py-2">· <a aria-label="并查集(Disjoint Set)学习笔记" href="/posts/ds-&amp;-algo/disjoint-set">并查集(Disjoint Set)学习笔记</a></th></tr><tr><th scope="row" class="px-2 py-2">· <a aria-label="排序算法学习笔记" href="/posts/ds-&amp;-algo/sort">排序算法学习笔记</a></th></tr><tr><th scope="row" class="px-2 py-2">· <a aria-label="Mermaid" href="/posts/mermaid">Mermaid</a></th></tr><tr><th scope="row" class="px-2 py-2">· <a aria-label="Binary Indexed Tree" href="/posts/ds-&amp;-algo/binary-indexed-tree">Binary Indexed Tree</a></th></tr><tr><th scope="row" class="px-2 py-2">· <a aria-label="动态规划例题" href="/posts/ds-&amp;-algo/dp">动态规划例题</a></th></tr><tr><th scope="row" class="px-2 py-2">· <a aria-label="Trie" href="/posts/ds-&amp;-algo/trie">Trie</a></th></tr></tbody></table></div></div></div></main><div class="w-full py-5 bg-gray-900"><div class="container mx-auto px-4"><p class="text-center">Copyright © 2024 Ming</p></div></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"post":{"path":"ds-\u0026-algo/bit-manipulation","title":"位操作","excerpt":"二进制位的相关概念，运算操作和算法例题","dateIsoString":"2024-02-03T00:00:00.000Z","coverImagePath":"/assets/posts/ds-\u0026-algo/bit-manipulation.cover.jpg","content":"\n## 概念\n\n- 反码：原值取反后的值，成为原值的反码。\n- 补码：原值的反码再＋ 1\n- 负数用补码表示\n  - -1 的二进制全是 1111111\n  - 5 = 101（前缀全是 0)\n  - -5 = 011（前缀全是 1）\n\n## 位的功能操作\n\n|                   功能                    | 操作                          |\n| :---------------------------------------: | :---------------------------- |\n|                   除 2                    | \u0026gt;\u0026gt;                      |\n|                   乘 2                    | \u0026lt;\u0026lt;                      |\n|               正负符号变换                | 取反再+1                      |\n|           从 a 中消去 b 中的 1            | a \u0026= ~b（和 b 的反，做\u0026运算） |\n|                取最右的 1                 | n \u0026 -n                        |\n|                删最右的 1                 | x \u0026 x-1                       |\n| n \\|= n \u003e\u003e 1; n \\|= n \u003e\u003e 2; n \\|= n \u003e\u003e 4; | 第一个 1 右侧的 bit 置为 1    |\n\n## Java 位运算符\n\n|     符号     |    描述    | 运算规则                                               |\n| :----------: | :--------: | :----------------------------------------------------- |\n|      \u0026       |     与     | 两个位都为 1 时，结果才为 1                            |\n|      \\|      |     或     | 两个位都为 0 时，结果才为 0                            |\n|      ^       |    异或    | 两个位相同为 0，相异为 1                               |\n|      ~       |    取反    | 0 变 1，1 变 0                                         |\n|   \u0026lt;\u0026lt;   |    左移    | 高位丢弃，低位补 0                                     |\n|   \u0026gt;\u0026gt;   |    右移    | 无符号数高位补 0；有符号数编译器有的补符号位，有的补 0 |\n| \u0026gt;\u0026gt;\u0026gt; | 无符号右移 | Java 运算，高位补 0                                    |\n\n## 例题\n\n\u003e 一堆数字中，有 2 个数字各出现一次，其它都出现两次。[Leetcode](https://leetcode.com/problems/single-number-iii/submissions/)\n\n解题重点：\n\n- one ^ two = xor\n- xor \u0026 -xor =\u003e one 和 two 的第一个差异位\n- 用差异位可以辨别一个数字可能是 one 还是 two\n"},"recentPostLinks":[{"text":"位操作","href":"/posts/ds-\u0026-algo/bit-manipulation"},{"text":"并查集(Disjoint Set)学习笔记","href":"/posts/ds-\u0026-algo/disjoint-set"},{"text":"排序算法学习笔记","href":"/posts/ds-\u0026-algo/sort"},{"text":"Mermaid","href":"/posts/mermaid"},{"text":"Binary Indexed Tree","href":"/posts/ds-\u0026-algo/binary-indexed-tree"},{"text":"动态规划例题","href":"/posts/ds-\u0026-algo/dp"},{"text":"Trie","href":"/posts/ds-\u0026-algo/trie"}],"utilLinks":[{"text":"Docker Command Builder","href":"/tools/docker"},{"text":"Kubectl Command Builder","href":"/tools/kubectl"}]},"__N_SSG":true},"page":"/posts/[...slug]","query":{"slug":["ds-\u0026-algo","bit-manipulation"]},"buildId":"BJXPI9N12ZDX2jW9m7t5g","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>